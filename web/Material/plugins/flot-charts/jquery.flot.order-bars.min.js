!function(r){function n(r){function n(r,n,e){var i=null;if(t(n)&&(l(n),a(r),o(r),u(n),g>=2)){var s=d(n),p=h();void 0===M[n.bars.order]&&(f(s)?M[n.bars.order]=-1*b(v,s-1,Math.floor(g/2)-1)-p:M[n.bars.order]=b(v,Math.ceil(g/2),s-2)+p+2*W),i=c(e,n,M[n.bars.order]),e.points=i}return i}function t(r){return null!=r.bars&&r.bars.show&&null!=r.bars.order}function a(r){var n=D?r.getPlaceholder().innerHeight():r.getPlaceholder().innerWidth(),t=D?e(r.getData(),1):e(r.getData(),0),a=t[1]-t[0];w=a/n}function e(r,n){for(var t=new Array,a=0;a<r.length;a++)t[0]=r[a].data[0]?r[a].data[0][n]:null,t[1]=r[a].data[r[a].data.length-1]?r[a].data[r[a].data.length-1][n]:null;return t}function o(r){v=i(r.getData()),g=v.length}function i(r){for(var n=new Array,t=[],a=0;a<r.length;a++)null!=r[a].bars.order&&r[a].bars.show&&t.indexOf(r[a].bars.order)<0&&(t.push(r[a].bars.order),n.push(r[a]));return n.sort(s)}function s(r,n){var t=r.bars.order,a=n.bars.order;return t<a?-1:t>a?1:0}function u(r){p=void 0!==r.bars.lineWidth?r.bars.lineWidth:2,W=p*w}function l(r){r.bars.horizontal&&(D=!0)}function d(r){for(var n=0,t=0;t<v.length;++t)if(r==v[t]){n=t;break}return n+1}function h(){var r=0;return g%2!=0&&(r=v[Math.ceil(g/2)].bars.barWidth/2),r}function f(r){return r<=Math.ceil(g/2)}function b(r,n,t){for(var a=0,e=n;e<=t;e++)a+=r[e].bars.barWidth+2*W;return a}function c(r,n,t){for(var a=r.pointsize,e=r.points,o=0,i=D?1:0;i<e.length;i+=a)e[i]+=t,n.data[o][3]=e[i],o++;return e}var v,g,p,W,w=1,D=!1,M={};r.hooks.processDatapoints.push(n)}var t={series:{bars:{order:null}}};r.plot.plugins.push({init:n,options:t,name:"orderBars",version:"0.2"})}(jQuery);
